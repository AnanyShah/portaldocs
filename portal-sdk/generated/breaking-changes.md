# Breaking Changes in the last four months 
* Additional Q&A about breaking changes can be found [here](./breaking-changes.md) 
* To ask a question about breaking changes [use this](https://aka.ms/ask/ibiza-breaking-change)  


## 5.0.303.2551
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=6133829'>6133829</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=6133829'>[ReactBlades] Modernize ‘Az.fail(…)’, et al, to match @Chris' recent API work re: supportability</a><p></div><div>Reason:</div><div>Az.fail and Az.notFound both have new signatures where they expect Az.ErrorOptions instead of strings, in line with new Portal APIs on error handling.&nbsp; The change is only compile-time breaking, the runtime implementation will keep working with strings while teams update their TypeScript code.</div><div><br></div><div>How to fix:</div><div>Az.fail(ClientResources.error)</div><div>becomes</div><div>Az.fail({ message: ClientResources.error })</div><div>and</div><div>Az.notFound(ClientResources.notFound)</div><div>becomes</div><div>Az.<span style="display:inline !important;">notFound</span>({ message: ClientResources.notFound })</div><div></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5773699'>5773699</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5773699'>Update TypeScript compiler to 3.5</a><p><br></span><div><br></div><div>Expected Errors:<br></div><div><br></div><div>- Partner code might see some type usage errors due new a newer version of TypeScript in use.<br></div><div><br></div><div>Solution:<br></div><div><br></div><div>- If you see errors, these are typically because newer versions of TypeScript are typically better at inferring complex expressions. The recommendation is that you evaluate each, as they might uncover subtle bugs that would require runtime fixes. In some other cases it's just a matter of being a little more explicit about the types in use (for example, add type assertions or define the types for arrow functions or generics, etc). There aren't many breaking changes in TypeScript itself from version 3.3 to 3.5, but read the breaking changes and announcement articles to see why some new errors would surface, and also start benefiting of the new functionality:<br></div><div>- https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#typescript-35<br></div><div>- https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-5.html<br></div><div>- https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html<br></div><div><br></div><div>Reason For Breaking Change<br></div><div><br></div><div>- Be able to leverage better tooling for improved syntax and type inferrence, as well as better compilation performance.<br></div><div><br></div><span></p></td></tr></table>

## 5.0.303.1351
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5373897'>5373897</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5373897'>[Telemetry] Add extension client version into telemetry tables</a><p></div><div>**Expected Errors**</div><div>If you are passing&nbsp;DebouncerPostOptions with headers anywhere, you might get an error if you are trying to pass any headers that are not permitted.</div><div>**Solution**</div><div>Only pass supported headers.</div><div>**Reason For Breaking Change**</div><div>Strict typing for telemetry headers.</div><div></p></td></tr></table>

## 5.0.303.221
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5773699'>5773699</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5773699'>Update TypeScript compiler to 3.5</a><p><br></span><div><br></div><div>Expected Errors:<br></div><div><br></div><div>- Partner code might see some type usage errors due new a newer version of TypeScript in use.<br></div><div><br></div><div>Solution:<br></div><div><br></div><div>- If you see errors, these are typically because newer versions of TypeScript are typically better at inferring complex expressions. The recommendation is that you evaluate each, as they might uncover subtle bugs that would require runtime fixes. In some other cases it's just a matter of being a little more explicit about the types in use (for example, add type assertions or define the types for arrow functions or generics, etc). There aren't many breaking changes in TypeScript itself from version 3.3 to 3.5, but read the breaking changes and announcement articles to see why some new errors would surface, and also start benefiting of the new functionality:<br></div><div>- https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#typescript-35<br></div><div>- https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-5.html<br></div><div>- https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html<br></div><div><br></div><div>Reason For Breaking Change<br></div><div><br></div><div>- Be able to leverage better tooling for improved syntax and type inferrence, as well as better compilation performance.<br></div><div><br></div><span></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5749824'>5749824</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5749824'>Disable legacy Blade/Part references codegen</a><p></div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;">Expected Errors:<br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;display:inline !important;"><span style="box-sizing:border-box;"><div style="box-sizing:border-box;"><b style="box-sizing:border-box;"></b><br style="box-sizing:border-box;">- Portal SDK targets may throw a build time error `error TS2307: Build: Cannot find module '_generated/BladeReferences'.` or&nbsp;<span style="display:inline !important;">`</span><span style="display:inline !important;">error TS2307: Build: Cannot find module '_generated/PartReferences'.`</span></div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;">Solution:</span></div><div style="box-sizing:border-box;"><b style="box-sizing:border-box;"></b><br style="box-sizing:border-box;">- If you receive this error, you need to migrate to the new Blade/Part references API that was introduced in November 2018.</div><div style="box-sizing:border-box;">&nbsp; Please follow the instructions presented in this demo to move to the new Blade Reference API:&nbsp;<span style="display:inline !important;"><a href="https://msit.microsoftstream.com/video/acf1fc93-4383-46e9-bbfb-9c1597897b21">https://msit.microsoftstream.com/video/acf1fc93-4383-46e9-bbfb-9c1597897b21</a></span></div><div style="box-sizing:border-box;">&nbsp; Take a look at our documentation:&nbsp;<a href="https://github.com/Azure/portaldocs/blob/master/portal-sdk/generated/top-blades-opening-and-closing.md">https://github.com/Azure/portaldocs/blob/master/portal-sdk/generated/top-blades-opening-and-closing.md</a></div><div style="box-sizing:border-box;"><b style="box-sizing:border-box;"></b><br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;">Reason For Breaking Change</span></div><div style="box-sizing:border-box;"><b style="box-sizing:border-box;"></b><br style="box-sizing:border-box;">- Performance: the new codegen emits no javascript code that needs to be loaded by the clients. It is just type definitions that provide the same static validation as the legacy approach, but without the extra bytes.</div></span></span></div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;"></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5687651'>5687651</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5687651'>Update libraries to .NET Core compatible versions</a><p></span></div><div><span><br></span></div><div><span>**Expected errors**</span></div><div>Portal SDK has updated the version of PowerArgs (now 3.6.0) and Newtonsoft.Json (now 12.0.2).</div><div><br></div><div><span>**Reason for breaking change**</span></div><div><span>New versions are more secure and provide more functionality.</span></div><div><span><br></span></div><div><span>**Solution**</span></div><div><span>If you are also referencing these libraries, and compiling your solution produces assembly binding errors, either update your own version to match the Portal SDK, or use assembly redirects in your web.config.</span></div><div><span><br></span></div><div><span></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5681635'>5681635</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5681635'>Selenium and Newtonsoft.Json package updates</a><p>No description available for this breaking change.</p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5671047'>5671047</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5671047'>Add sample axe-core tests to the framework suite</a><p></div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;">Expected Errors:<br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;display:inline !important;"><span style="box-sizing:border-box;"><div style="box-sizing:border-box;"><b style="box-sizing:border-box;"></b><br style="box-sizing:border-box;">- The following warning is shown at build time due to the Newtonsoft.Json update from 11.0.1 to 12.0.2</div><div style="box-sizing:border-box;"><br></div><div style="box-sizing:border-box;"><span>warnin</span><span>g MSB3247: Found conflicts between different versions of the same dependent assembly. In Visual Studio, double-click th</span><span>is warning (or select it and press Enter) to fix the conflicts; otherwise, add the following binding redirects to the &quot;</span><span>runtime&quot; node in the application configuration file:</span></div><div style="box-sizing:border-box;"><span><br></span></div><div style="box-sizing:border-box;"><span>```xml</span></div><div style="box-sizing:border-box;"><span><br></span></div><div style="box-sizing:border-box;"><span>&lt;assemblyBinding xmlns=&quot;urn:schemas-microsoft-com:asm.v1&quot;&gt;</span></div><div style="box-sizing:border-box;"><span>&nbsp; &lt;depende</span><span>ntAssembly&gt;</span></div><div style="box-sizing:border-box;"><span>&nbsp; &nbsp; &lt;assemblyIdentity name=&quot;Newtonsoft.Json&quot; culture=&quot;neutral&quot; publicKeyToken=&quot;30ad4fe6b2a6aeed&quot; /&gt;</span></div><div style="box-sizing:border-box;"><span>&nbsp; &nbsp; &lt;bindingRedir</span><span>ect oldVersion=&quot;0.0.0.0-12.0.0.0&quot; newVersion=&quot;12.0.0.0&quot; /&gt;</span></div><div style="box-sizing:border-box;"><span>&nbsp; &lt;/dependentAssembly&gt;</span></div><div style="box-sizing:border-box;"><span>&lt;/assemblyBinding&gt;</span><br></div><div style="box-sizing:border-box;"><br></div><div style="box-sizing:border-box;">```</div><div style="box-sizing:border-box;"><br></div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;">Solution:</span></div><div style="box-sizing:border-box;"><b style="box-sizing:border-box;"></b><br style="box-sizing:border-box;">- Either change your project dependency to use the new Newtonsoft.Json version in your csproj, or use the assemblyBinding config option shown in the warning above.</div><div style="box-sizing:border-box;"><b style="box-sizing:border-box;"></b><br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;">Reason For Breaking Change</span></div><div style="box-sizing:border-box;"><b style="box-sizing:border-box;"></b><br style="box-sizing:border-box;">- We updated our dependency for Newtonsoft.Json as part of adding Accessibility Testing support to the CSharp Test Framework.</div></span></span></div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;"></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5605250'>5605250</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5605250'>Update new Node LTS v12</a><p></span><br></div><div><br></div><div>**Expected Errors:**</div><div><br></div><div>- There is no expected errors but you may want to update your local Node.js version to v12.13.1 and install node_modules again after the version update.</div><div><br></div><div>**Solution:**</div><div><br></div><div>- Remove existing node_modules directory and run &quot;npm i&quot;</div><div><br></div><div>**Reason For Breaking Change**</div><div><br></div><div>- Node.js v12 is active LTS version</div><div>-&nbsp;<a href="https://nodejs.org/en/about/releases/">https://nodejs.org/en/about/releases/</a></div><div><br></div><div></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5468096'>5468096</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5468096'>Update Portal repo to .NET 4.7.2 / Guest OS Windows Server 2019 / Visual Studio 2019</a><p></span></div><div><span><br></span></div><div><span>REASON FOR BREAKING CHANGE:</span></div><div><span><div style="box-sizing:border-box;"><span style="box-sizing:border-box;"></span></div></span><div style="box-sizing:border-box;"><span><span style="box-sizing:border-box;">Portal has been upgraded to .NET 4.7.2</span></span></div><div style="box-sizing:border-box;"><span><br></span></div></div><div><span>EXPECTED ERRORS:</span></div><div><span>&nbsp;- Compilation may fail unless depending projects are also upgraded to .NET 4.7.2.</span></div><div><span>&nbsp;- If Portal SDK is used inside of a cloud service (i.e. a backend that isn't the Extension Hosting Service) the osFamily of the cloud service may have to be upgraded to &quot;6&quot; since that family comes with .NET 4.7.2 installed by default. This may necessitate upgrading the Azure SDK used by the cloud service to 3.0+.</span></div><div><span>&nbsp;- Projects may fail to open in VS 2015/2017 after upgrading the version of .NET to 4.7.2.</span></div><div><br></div><div>SOLUTION:</div><div>&nbsp;- Upgrade any projects that depend on .NET components in the Portal SDK to .NET 4.7.2.</div><div>&nbsp;- Upgrade any cloud services that host the Portal SDK to Windows Server 2019 (aka osFamily=&quot;6&quot;). This may require upgrading the Azure SDK used by the cloud service to 3.0+.</div><div>&nbsp;- If projects in the SDK fail to open in VS 2015/2017, upgrade to VS 2019.</div><div><span><br></span></div><div><span></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5311678'>5311678</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5311678'>Cleanup Small size CheckBox</a><p></div><div><ul><li>The `boxSize` field of the Fx CheckBox and TriStateCheckBox API <span style="background-color:rgb(255, 255, 255);display:inline !important;">along with its BoxSize enum are&nbsp;</span>getting deprecated.</li><li>Please transition your blade design to stop using small checkBoxes.</li><li>All Fx CheckBoxes will be regular sized.</li><li>The rationale behind this change is alignment with Fabric UI, which does not offer a small checkBox.</li></ul></div><div><span style="background-color:rgb(255, 255, 255);display:inline !important;"></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=4949033'>4949033</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=4949033'>[RadioButtons] Allow HtmlContent in text for items</a><p></div><div></div><div><ul><li>This change enriches the `text` option of the `RadioButtons` `Item`-s to accept `HtmlContent` too, where it previously only accepted string text.</li><li>Consequently with this change, partners who are dereferencing the `text` field of `RadioButtons` `Item`-s would need to use a constant or variable of type `string | HtmlContent`</li></ul></div><div><span style="display:inline !important;"></p></td></tr></table>